/**
 * @license MeeusSunMoon v2.0.0
 * (c) 2018 Jan Greis
 * licensed under MIT
 */

!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.MeeusSunMoon={})}(this,function(e){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var t=function(e){return.017453292519943295*e},n=function(e){return 57.29577951308232*e},o=function(e){return Math.sin(t(e))},u=function(e){return Math.cos(t(e))},a=function(e){return e-360*Math.floor(e/360)},c=function(e,r){for(var t=1,n=0,o=r.length,u=0;u<o;u++)n+=t*r[u],t*=e;return n},f=function(e,r,t,n,o){var u=r-e,a=t-r;return void 0!==o&&o&&(u<0&&(u+=360),a<0&&(a+=360)),r+n/2*(u+a+n*(a-u))},i=function(e){e+=.5;var r=Math.floor(e),t=e-r,n=r;if(r>=2299161){var o=Math.floor((r-1867216.25)/36524.25);n+=1+o-Math.floor(o/4)}var u=n+1524,a=Math.floor((u-122.1)/365.25),c=Math.floor(365.25*a),f=Math.floor((u-c)/30.6001),i=u-c-Math.floor(30.6001*f)+t,s=Math.floor(i),h=Math.floor(24*(i-s)),v=Math.floor(60*(24*(i-s)-h)),d=Math.floor(60*(60*(24*(i-s)-h)-v)),m=f-1;f>13&&(m-=12);var M=a-4715;m>2&&(M-=1);var l=moment.tz("2000-01-01T12:00:00","UTC");return l.year(M),l.month(m-1),l.date(s),l.hour(h),l.minute(v),l.second(d),l},s=function(e){return(function(e){var r=e.year(),t=e.month()+1,n=e.date()+(e.hour()+(e.minute()+e.second()/60)/60)/24;t<3&&(r-=1,t+=12);var o=Math.floor(r/100),u=moment("1582-10-15T12:00:00Z"),a=0;return e.isAfter(u)&&(a=2-o+Math.floor(o/4)),Math.floor(365.25*(r+4716))+Math.floor(30.6001*(t+1))+n+a-1524.5}(e)-2451545)/36525},h=function(e){var r,t,n,o=e.year();switch(o+=(e.month()+.5)/12,!0){case o<-1999:n=!1;break;case o<-500:n=32*(r=(o-1820)/100)*r-20;break;case o<500:n=10583.6-1014.41*(r=o/100)+33.78311*r*r-5.952053*r*r*r-.1798452*r*r*r*r+.022174192*r*r*r*r*r+.0090316521*r*r*r*r*r*r;break;case o<1600:n=1574.2-556.01*(r=(o-1e3)/100)+71.23472*r*r+.319781*r*r*r-.8503463*r*r*r*r-.005050998*r*r*r*r*r+.0083572073*r*r*r*r*r*r;break;case o<1700:n=120-.9808*(t=o-1600)-.01532*t*t+t*t*t/7129;break;case o<1800:n=8.83+.1603*(t=o-1700)-.0059285*t*t+13336e-8*t*t*t-t*t*t*t/1174e3;break;case o<1860:n=13.72-.332447*(t=o-1800)+.0068612*t*t+.0041116*t*t*t-37436e-8*t*t*t*t+121272e-10*t*t*t*t*t-1.699e-7*t*t*t*t*t*t+8.75e-10*t*t*t*t*t*t*t;break;case o<1900:n=7.62+.5737*(t=o-1860)-.251754*t*t+.01680668*t*t*t-.0004473624*t*t*t*t+t*t*t*t*t/233174;break;case o<1920:n=1.494119*(t=o-1900)-2.79-.0598939*t*t+.0061966*t*t*t-197e-6*t*t*t*t;break;case o<1941:n=21.2+.84493*(t=o-1920)-.0761*t*t+.0020936*t*t*t;break;case o<1961:n=29.07+.407*(t=o-1950)-t*t/233+t*t*t/2547;break;case o<1986:n=45.45+1.067*(t=o-1975)-t*t/260-t*t*t/718;break;case o<2005:n=63.86+.3345*(t=o-2e3)-.060374*t*t+.0017275*t*t*t+651814e-9*t*t*t*t+2373599e-11*t*t*t*t*t;break;case o<2050:n=62.92+.32217*(t=o-2e3)+.005589*t*t;break;case o<2150:n=(o-1820)/100*32*((o-1820)/100)-20-.5628*(2150-o);break;default:n=32*(r=(o-1820)/100)*r-20}return n},v=function(e,r){var t=function(e){return e/1236.85}(e+=r/4),n=b(t),o=d(t,e),u=m(t,e),a=M(t,e),c=l(t,e),f=y(t,e),i=T(t,e),s=0;return 0===r||2===r?s+=N(n,u,a,c,f,r):1!==r&&3!==r||(s+=p(n,u,a,c,f,r)),o+=s+=S(i)},d=function(e,r){return 2451550.09766+29.530588861*r+15437e-8*e*e-1.5e-7*e*e*e+7.3e-10*e*e*e*e},m=function(e,r){return 2.5534+29.1053567*r-14e-7*e*e-1.1e-7*e*e*e},M=function(e,r){return 201.5643+385.81693528*r+.0107582*e*e+1238e-8*e*e*e-5.8e-8*e*e*e*e},l=function(e,r){return 160.7108+390.67050284*r-.0016118*e*e-227e-8*e*e*e+1.1e-8*e*e*e*e},y=function(e,r){return 124.7746-1.56375588*r+.0020672*e*e+215e-8*e*e*e},b=function(e){return 1-.002516*e-74e-7*e*e},T=function(e,r){var t=[];return t[0]=0,t[1]=299.77+.107408*r-.009173*e*e,t[2]=251.88+.016321*r,t[3]=251.83+26.651886*r,t[4]=349.42+36.412478*r,t[5]=84.66+18.206239*r,t[6]=141.74+53.303771*r,t[7]=207.14+2.453732*r,t[8]=154.84+7.30686*r,t[9]=34.52+27.261239*r,t[10]=207.19+.121824*r,t[11]=291.34+1.844379*r,t[12]=161.72+24.198154*r,t[13]=239.56+25.513099*r,t[14]=331.55+3.592518*r,t},S=function(e){return 325e-6*o(e[1])+165e-6*o(e[2])+164e-6*o(e[3])+126e-6*o(e[4])+11e-5*o(e[5])+62e-6*o(e[6])+6e-5*o(e[7])+56e-6*o(e[8])+47e-6*o(e[9])+42e-6*o(e[10])+4e-5*o(e[11])+37e-6*o(e[12])+35e-6*o(e[13])+23e-6*o(e[14])},N=function(e,r,t,n,u,a){var c=-.00111*o(t-2*n)-57e-5*o(t+2*n)+56e-5*e*o(2*t+r)-42e-5*o(3*t)+42e-5*e*o(r+2*n)+38e-5*e*o(r-2*n)-24e-5*e*o(2*t-r)-17e-5*o(u)-7e-5*o(t+2*r)+4e-5*o(2*t-2*n)+4e-5*o(3*r)+3e-5*o(t+r-2*n)+3e-5*o(2*t+2*n)-3e-5*o(t+r+2*n)+3e-5*o(t-r+2*n)-2e-5*o(t-r-2*n)-2e-5*o(3*t+r)+2e-5*o(4*t);return 0===a?c+=-.4072*o(t)+.17241*e*o(r)+.01608*o(2*t)+.01039*o(2*n)+.00739*e*o(t-r)-.00514*e*o(t+r)+.00208*e*e*o(2*r):2===a&&(c+=-.40614*o(t)+.17302*e*o(r)+.01614*o(2*t)+.01043*o(2*n)+.00734*e*o(t-r)-.00515*e*o(t+r)+.00209*e*e*o(2*r)),c},p=function(e,r,t,n,a,c){var f=-.62801*o(t)+.17172*e*o(r)-.01183*e*o(t+r)+.00862*o(2*t)+.00804*o(2*n)+.00454*e*o(t-r)+.00204*e*e*o(2*r)-.0018*o(t-2*n)-7e-4*o(t+2*n)-4e-4*o(3*t)-34e-5*e*o(2*t-r)+32e-5*e*o(r+2*n)+32e-5*e*o(r-2*n)-28e-5*e*e*o(t+2*r)+27e-5*e*o(2*t+r)-17e-5*o(a)-5e-5*o(t-r-2*n)+4e-5*o(2*t+2*n)-4e-5*o(t+r+2*n)+4e-5*o(t-2*r)+3e-5*o(t+r-2*n)+3e-5*o(3*r)+2e-5*o(2*t-2*n)+2e-5*o(t-r+2*n)-2e-5*o(3*t+r),i=.00306-38e-5*e*u(r)+26e-5*u(t)-2e-5*u(t-r)+2e-5*u(t+r)+2e-5*u(2*n);return 1===c?f+=i:3===c&&(f-=i),f},k=[357.52772,35999.05034,-1603e-7,-1/3e5],D=[280.46646,36000.76983,3032e-7],z=[84381.448/3600,-4680.93/3600,-1.55/3600,1999.25/3600,-51.38/3600,-249.67/3600,-39.05/3600,7.12/3600,27.87/3600,5.79/3600,2.45/3600],E=[93.27191,483202.017538,-.0036825,1/327270],P=[125.04452,-1934.136261,.0020708,1/45e4],F=[134.96298,477198.867398,.0086972,1/56250],w=[297.85036,445267.11148,-.0019142,1/189474],Y=[[0,0,0,0,1,-171996,-174.2,92025,8.9],[-2,0,0,2,2,-13187,-1.6,5736,-3.1],[0,0,0,2,2,-2274,-.2,977,-.5],[0,0,0,0,2,2062,.2,-895,.5],[0,1,0,0,0,1426,-3.4,54,-.1],[0,0,1,0,0,712,.1,-7,0],[-2,1,0,2,2,-517,1.2,224,-.6],[0,0,0,2,1,-386,-.4,200,0],[0,0,1,2,2,-301,0,129,-.1],[-2,-1,0,2,2,217,-.5,-95,.3],[-2,0,1,0,0,-158,0,0,0],[-2,0,0,2,1,129,.1,-70,0],[0,0,-1,2,2,123,0,-53,0],[2,0,0,0,0,63,0,0,0],[0,0,1,0,1,63,.1,-33,0],[2,0,-1,2,2,-59,0,26,0],[0,0,-1,0,1,-58,-.1,32,0],[0,0,1,2,1,-51,0,27,0],[-2,0,2,0,0,48,0,0,0],[0,0,-2,2,1,46,0,-24,0],[2,0,0,2,2,-38,0,16,0],[0,0,2,2,2,-31,0,13,0],[0,0,2,0,0,29,0,0,0],[-2,0,1,2,2,29,0,-12,0],[0,0,0,2,0,26,0,0,0],[-2,0,0,2,0,-22,0,0,0],[0,0,-1,2,1,21,0,-10,0],[0,2,0,0,0,17,-.1,0,0],[2,0,-1,0,1,16,0,-8,0],[-2,2,0,2,2,-16,.1,7,0],[0,1,0,0,1,-15,0,9,0],[-2,0,1,0,1,-13,0,7,0],[0,-1,0,0,1,-12,0,6,0],[0,0,2,-2,0,11,0,0,0],[2,0,-1,2,1,-10,0,5,0],[2,0,1,2,2,-8,0,3,0],[0,1,0,2,2,7,0,-3,0],[-2,1,1,0,0,-7,0,0,0],[0,-1,0,2,2,-7,0,3,0],[2,0,0,2,1,-7,0,3,0],[2,0,1,0,0,6,0,0,0],[-2,0,2,2,2,6,0,-3,0],[-2,0,1,2,1,6,0,-3,0],[2,0,-2,0,1,-6,0,3,0],[2,0,0,0,1,-6,0,3,0],[0,-1,1,0,0,5,0,0,0],[-2,-1,0,2,1,-5,0,3,0],[-2,0,0,0,1,-5,0,3,0],[0,0,2,2,1,-5,0,3,0],[-2,0,2,0,1,4,0,0,0],[-2,1,0,2,1,4,0,0,0],[0,0,1,-2,0,4,0,0,0],[-1,0,1,0,0,-4,0,0,0],[-2,1,0,0,0,-4,0,0,0],[1,0,0,0,0,-4,0,0,0],[0,0,1,2,0,3,0,0,0],[0,0,-2,2,2,-3,0,0,0],[-1,-1,1,0,0,-3,0,0,0],[0,1,1,0,0,-3,0,0,0],[0,-1,1,2,2,-3,0,0,0],[2,-1,-1,2,2,-3,0,0,0],[0,0,3,2,2,3,0,0,0],[2,-1,0,2,2,-3,0,0,0]],C=function(r,t,n,o){var u,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:50/60,c=r.tz(),f=moment.tz([r.year(),r.month(),r.date(),0,0,0],"UTC"),i=h(f),v=s(f),d=_(v),m=v-i/315576e4,M=K(m),l=L(m),y=R(t,l,a),b=(M-n-d)/360;if(b=A(b,r.utcOffset()),"RISE"===o)u=b-y/360;else{if("SET"!==o)return!1;u=b+y/360}for(var T=0,S=1;Math.abs(S)>1e-4&&T<3;)u+=S=U(v,d,i,t,n,u,a),T++;return u>0?f.add(Math.floor(3600*u*24+.5),"seconds"):f.subtract(Math.floor(3600*Math.abs(u)*24+.5),"seconds"),e.roundToNearestMinute&&(f.add(30,"seconds"),f.second(0)),f.tz(c),f},I=function(r,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e.returnTimeForPNMS&&(t.isDST()&&(n+=1),r.tz(t.tz()).year(t.year()).month(t.month()).date(t.date()).hour(n).minute(o).second(0)),r},R=function(r,t,a){var c=(o(-a)-o(r)*o(t))/(u(r)*u(t));if(c<-1){if(e.returnTimeForPNMS)throw moment.tz("**2000-01-01 12:00:00","YYYY-MM-DD HH:mm:ss","Europe/London");var f="MS";throw 6===a?f="NCD":12===a?f="NND":18===a&&(f="NAD"),f}if(c>1){if(e.returnTimeForPNMS)throw moment.tz("--2000-01-01 12:00:00","YYYY-MM-DD HH:mm:ss","Europe/London");var i="PN";throw 6===a?i="NCD":12===a?i="NND":18===a&&(i="NAD"),i}return n(Math.acos(c))},A=function(e,r){var t=e+r/1440;return t<0?e+1:t>1?e-1:e},H=function(e,r,t,n,o){var u=r+360.985647*o,a=x(e,o+t/864e3);return-g(u,n,a)/360},U=function(e,r,t,n,a,c,f){var i=r+360.985647*c,s=c+t/864e3,h=x(e,s),v=O(e,s),d=g(i,a,h);return(j(n,v,d)+f)/(360*u(v)*u(n)*o(d))},g=function(e,r,t){var n=a(e+r-t);return n>180&&(n-=360),n},j=function(e,r,t){return n(Math.asin(o(e)*o(r)+u(e)*u(r)*u(t)))},x=function(e,r){var t=K(e-1/36525),n=K(e),o=K(e+1/36525),u=f(t,n,o,r,!0);return a(u)},O=function(e,r){var t=L(e-1/36525),n=L(e),o=L(e+1/36525),u=f(t,n,o,r);return a(u)},K=function(e){var r=$(e),t=Z(e)+.00256*u(r),c=G(e),f=n(Math.atan2(u(t)*o(c),u(c)));return a(f)},L=function(e){var r=$(e),t=Z(e)+.00256*u(r),a=G(e);return n(Math.asin(o(t)*o(a)))},_=function(e){var r=B(e),t=Z(e),n=r+V(e)*u(t);return a(n)},B=function(e){return 280.46061837+360.98564736629*(36525*e)+387933e-9*e*e-e*e*e/3871e4},Z=function(e){return q(e)+W(e)},q=function(e){return c(e/100,z)},G=function(e){var r=J(e),t=$(e);return r-.00569-.00478*o(t)},J=function(e){return ne(e)+Q(e)},Q=function(e){var r=te(e);return(1.914602-.004817*e-14e-6*e*e)*o(r)+(.019993-101e-6*e)*o(2*r)+29e-5*o(3*r)},V=function(e){for(var r,t=re(e),n=te(e),u=ee(e),a=X(e),c=$(e),f=0,i=0;i<63;i++)r=Y[i][0]*t+Y[i][1]*n+Y[i][2]*u+Y[i][3]*a+Y[i][4]*c,f+=(Y[i][5]+Y[i][6]*e)*o(r);return f/=36e6},W=function(e){for(var r,t=re(e),n=te(e),o=ee(e),a=X(e),c=$(e),f=0,i=0;i<63;i++)r=Y[i][0]*t+Y[i][1]*n+Y[i][2]*o+Y[i][3]*a+Y[i][4]*c,f+=(Y[i][7]+Y[i][8]*e)*u(r);return f/=36e6},X=function(e){var r=c(e,E);return a(r)},$=function(e){var r=c(e,P);return a(r)},ee=function(e){var r=c(e,F);return a(r)},re=function(e){var r=c(e,w);return a(r)},te=function(e){var r=c(e,k);return a(r)},ne=function(e){var r=c(e,D);return a(r)};e.roundToNearestMinute=!1,e.returnTimeForPNMS=!1;var oe={"**":"‡","--":"†"};e.options=function(t){"boolean"==typeof t.roundToNearestMinute&&(e.roundToNearestMinute=t.roundToNearestMinute),"boolean"==typeof t.returnTimeForPNMS&&(e.returnTimeForPNMS=t.returnTimeForPNMS),"object"===r(t.dateFormatKeys)&&(oe=t.dateFormatKeys)},e.formatCI=function(e,r){var t=e.creationData().input.slice(0,2),n=e.format(r);return oe[t]&&(n+=oe[t]),n},e.sunrise=function(e,r,t){var n;try{n=C(e,r,t,"RISE")}catch(r){return I(r,e,6)}return n},e.sunset=function(e,r,t){var n;try{n=C(e,r,t,"SET")}catch(r){return I(r,e,18)}return n},e.civilDawn=function(e,r,t){var n;try{n=C(e,r,t,"RISE",6)}catch(r){return I(r,e,5,30)}return n},e.civilDusk=function(e,r,t){var n;try{n=C(e,r,t,"SET",6)}catch(r){return I(r,e,18,30)}return n},e.nauticalDawn=function(e,r,t){var n;try{n=C(e,r,t,"RISE",12)}catch(r){return I(r,e,5)}return n},e.nauticalDusk=function(e,r,t){var n;try{n=C(e,r,t,"SET",12)}catch(r){return I(r,e,19)}return n},e.astronomicalDawn=function(e,r,t){var n;try{n=C(e,r,t,"RISE",18)}catch(r){return I(r,e,4,30)}return n},e.astronomicalDusk=function(e,r,t){var n;try{n=C(e,r,t,"SET",18)}catch(r){return I(r,e,19,30)}return n},e.solarNoon=function(r,t){return function(r,t){var n=r.tz(),o=moment.tz([r.year(),r.month(),r.date(),0,0,0],"UTC"),u=h(o),a=s(o),c=_(a),f=(K(a-u/315576e4)-t-c)/360;return f=A(f,r.utcOffset()),f+=H(a,c,u,t,f),o.add(Math.floor(3600*f*24+.5),"seconds"),e.roundToNearestMinute&&(o.add(30,"seconds"),o.second(0)),o.tz(n),o}(r,t)},e.yearMoonPhases=function(r,t,n){for(var o,u,a,c,f=moment([r]),s=moment([r+1]),d=Math.floor(12.3685*((o=f).year()+(o.month()+1)/12+o.date()/365.25-2e3))-1,m=[],M=0;M<15;M++)u=v(d,t),a=i(u),(c=h(a))>0?a.subtract(Math.abs(c),"seconds"):a.add(Math.abs(c),"seconds"),e.roundToNearestMinute&&(a.add(30,"seconds"),a.second(0)),void 0===n&&(n="UTC"),a.tz(n),a.isAfter(f)&&a.isBefore(s)&&m.push(a),d++;return m},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=meeussunmoon.min.js.map
